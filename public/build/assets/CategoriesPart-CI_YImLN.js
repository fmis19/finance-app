import{r as o,j as e}from"./app-DT0HCgTo.js";import{P as d}from"./PrimaryButton-5hiVhtdl.js";import{R as p,B as h,X as u,Y as f,a as j}from"./BarChart-DpgejTpI.js";import"./clsx-B-dksMZM.js";import"./path-CNamPumv.js";function y({categories_spent:x}){let[t,i]=o.useState(new Date().getMonth()+1),[s,l]=o.useState(new Date().getFullYear());const c=()=>{t>1?(t-=1,i(t)):(t=12,i(t),s-=1,l(s))},m=()=>{t<12?(t+=1,i(t)):(t=1,i(t),s+=1,l(s))};let r=x.filter(a=>a.date===`${s}-${String(t).padStart(2,"0")}`);return r=r.map(a=>(a.percentage=a.amount/r.reduce((n,g)=>n+g.amount,0)*100,a.percentage=a.percentage.toFixed(2),a)).sort((a,n)=>n.percentage-a.percentage),console.log(r),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"flex flex-col gap-10 items-center",children:[e.jsx("div",{children:"Categories"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(d,{onClick:c,children:"Past"}),e.jsx("div",{children:`${s}-${String(t).padStart(2,"0")}`}),e.jsx(d,{onClick:m,children:"Future"})]}),e.jsx("div",{className:"flex justify-center w-full min-h-[400px]",children:r.length===0?"No Categories.":e.jsx(p,{width:"100%",height:400,children:e.jsxs(h,{data:r,margin:{right:10,top:10,left:0},children:[e.jsx(u,{dataKey:"name",interval:0,className:"text-xs md:text-base",label:{angle:-90}}),e.jsx(f,{dataKey:"percentage",domain:[0,100],label:{value:"Percentage",angle:-90,offset:15,position:"insideLeft",style:{textAnchor:"middle",fill:"#666"}},className:"text-xs md:text-base"}),e.jsx(j,{dataKey:"percentage",fill:"#1f2937",label:{position:"top"},className:"text-xs md:text-base"})]})})})]})})})})}export{y as default};
