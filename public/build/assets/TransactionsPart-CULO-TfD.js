import{r as f,j as t}from"./app-DurcBAKU.js";import{P as g}from"./PrimaryButton-G8im4KFL.js";import{R as S,B as v,X as w,Y as N,a as T}from"./BarChart-CHJFukT9.js";import"./clsx-B-dksMZM.js";import"./path-CNamPumv.js";function A({transformedTransactions:u}){let[c,d]=f.useState(0);const i=(e=0)=>{const o=new Date,r=o.getDay(),l=o.getDate()-r+(r===0?-6:1),s=new Date(o);s.setDate(l+e*7);const a=new Date(s);return a.setDate(s.getDate()+6),{monday:s,sunday:a}};let[n,m]=f.useState(i()),h=n?u.filter(e=>e.date.slice(0,10)>=n.monday.toLocaleString("sv-SE",{timeZoneName:"short"}).slice(0,10)&&e.date.slice(0,10)<=n.sunday.toLocaleString("sv-SE",{timeZoneName:"short"}).slice(0,10)):[],p=((e,o)=>{const r=o.monday.toLocaleString("sv-SE",{timeZoneName:"short"}).slice(0,10),l=o.sunday.toLocaleString("sv-SE",{timeZoneName:"short"}).slice(0,10),s=[];let a=new Date(r);for(;a<=new Date(l);)s.push(new Date(a).toLocaleString("sv-SE",{timeZoneName:"short"}).slice(0,10)),a.setDate(a.getDate()+1);return s.map(x=>e.find(y=>y.date===x)||{date:x,amount:0})})(h,n);const D=()=>{d(e=>e-1),m(i(c-1))},j=()=>{d(e=>e+1),m(i(c+1))};return t.jsx("div",{className:"py-12",children:t.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:t.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg",children:t.jsxs("div",{className:"flex flex-col gap-10 items-center",children:[t.jsx("div",{children:"Transactions"}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(g,{onClick:D,children:"Past"}),t.jsx("div",{children:`${n.monday.toDateString()} - ${n.sunday.toDateString()}`}),t.jsx(g,{onClick:j,children:"Future"})]}),t.jsx("div",{className:"flex justify-center w-full",children:t.jsx(S,{width:"100%",height:400,children:t.jsxs(v,{data:p,margin:{right:10,top:10,left:0},children:[t.jsx(w,{dataKey:"date",tickFormatter:e=>`${String(new Date(e).getDate()).padStart(2,"0")}.${String(new Date(e).getMonth()+1).padStart(2,"0")}.`,interval:0,className:"text-xs md:text-base"}),t.jsx(N,{dataKey:"amount",label:{value:"Amount spent (â‚¬)",angle:-90,offset:15,position:"insideLeft",style:{textAnchor:"middle",fill:"#666"}},className:"text-xs md:text-base"}),t.jsx(T,{dataKey:"amount",fill:"#1f2937",label:{position:"top"},className:"text-xs md:text-base"})]})})})]})})})})}export{A as default};
